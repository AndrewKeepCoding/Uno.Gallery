<Page x:Class="Uno.Gallery.Views.GeneralPages.OverviewPage"
	  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	  xmlns:local="using:Uno.Gallery.Views.GeneralPages"
	  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	  xmlns:todo="what should be done"
	  xmlns:win="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	  xmlns:xamarin="http:/uno.ui/xamarin"
	  xmlns:wasm="http:/uno.ui/wasm"
	  xmlns:gallery="using:Uno.Gallery"
	  mc:Ignorable="d todo xamarin wasm"
	  Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

	<Page.Resources>
		<ItemsPanelTemplate x:Key="HorizontalItemsStackPanelTemplate">
			<StackPanel Orientation="Horizontal"
						Spacing="16" />
		</ItemsPanelTemplate>
	</Page.Resources>

	<ScrollViewer HorizontalScrollMode="Disabled"
				  VerticalScrollMode="Enabled">
		<StackPanel Margin="24,16">
			<!-- Text -->
			<TextBlock Text="Build native mobile, desktop and WebAssembly apps from a single codebase."
					   FontSize="36" />
			<TextBlock Text="Here's an overview of the vailable components Uno Platform from a Material or Fluent perspective."
					   FontSize="24" />

			<!-- Colors -->
			<TextBlock Text="Colors"
					   FontSize="18"
					   Margin="0,16,0,0" />

			<ScrollViewer HorizontalScrollMode="Enabled"
						  HorizontalScrollBarVisibility="Auto"
						  VerticalScrollMode="Disabled">
				<ItemsControl ItemsSource="{x:Bind ColorSamples}"
							  ItemsPanel="{StaticResource HorizontalItemsStackPanelTemplate}"
							  todo:note="extra margin to prevent scrollbar blocking content"
							  wasm:Margin="0,0,0,24"
							  win:Margin="0,0,0,24">
					<ItemsControl.ItemTemplate>
						<DataTemplate>
							<Border CornerRadius="4"
									BorderBrush="LightGray"
									BorderThickness="1"
									Padding="24">
								<StackPanel>
									<TextBlock Text="todo:Icon" />
									<TextBlock Text="{Binding Title}"
											   Style="{StaticResource MaterialHeadline6}" />
									<TextBlock Text="{Binding Description}"
											   TextWrapping="WrapWholeWords"
											   Style="{StaticResource MaterialBody2}" />
									<Button Content="{Binding CtaText, FallbackValue='todo:CtaText'}"
											Click="OverviewPage_Click"
											Padding="0"
											Style="{StaticResource MaterialTextButtonStyle}" />
								</StackPanel>
							</Border>
						</DataTemplate>
					</ItemsControl.ItemTemplate>
				</ItemsControl>
			</ScrollViewer>

			<!-- Components -->
			<TextBlock Text="Components"
					   FontSize="18"
					   Margin="0,16,0,0" />
			<ListView x:Name="ComponentSelector"
					  ItemsSource="{x:Bind ComponentSamples, Mode=OneWay}"
					  SelectionMode="Single"
					  todo:IsSynchronizedWithCurrentItem="just crashes on windows"
					  todo:SelectedItem="doesnt work on windows"
					  xamarin:SelectedItem="{x:Bind SelectedComponent}"
					  win:SelectedIndex="{x:Bind SelectedComponentIndex}">
				<ItemsControl.ItemTemplate>
					<DataTemplate>
						<TextBlock Text="{Binding Key}" />
					</DataTemplate>
				</ItemsControl.ItemTemplate>
				<ItemsControl.ItemsPanel>
					<ItemsPanelTemplate>
						<!-- android: ItemsStackPanel would take infinite height if used here -->
						<StackPanel Orientation="Horizontal" />
					</ItemsPanelTemplate>
				</ItemsControl.ItemsPanel>
			</ListView>
			<ItemsControl ItemsSource="{Binding ElementName=ComponentSelector, Path=SelectedItem.Value}"
						  HorizontalContentAlignment="Left">
				<ItemsControl.ItemTemplate>
					<DataTemplate todo:DataType="local:OverviewPage+ComponentSampleInfo">
						<Grid CornerRadius="4"
							  BorderBrush="LightGray"
							  BorderThickness="1"
							  Margin="0,24,0,0">
							<Grid.ColumnDefinitions>
								<ColumnDefinition Width="240" />
								<ColumnDefinition Width="*" />
							</Grid.ColumnDefinitions>

							<StackPanel Grid.Column="0"
										Padding="16">
								<TextBlock Text="{Binding Sample.Title}"
										   Style="{StaticResource MaterialHeadline6}" />
								<TextBlock Text="{Binding Sample.Description}"
										   TextWrapping="WrapWholeWords"
										   Style="{StaticResource MaterialBody2}" />
								<Button Content="{Binding Sample.CtaText, FallbackValue='todo:CtaText'}"
										Click="OverviewPage_Click"
										Padding="0"
										Style="{StaticResource MaterialTextButtonStyle}" />
							</StackPanel>
							<Border Grid.Column="1"
									Background="WhiteSmoke"
									Padding="16">
								<ContentControl Content="{Binding}"
												ContentTemplate="{Binding ExampleTemplate}"
												HorizontalAlignment="Stretch"
												HorizontalContentAlignment="Left"
												VerticalAlignment="Stretch"
												VerticalContentAlignment="Top" />
							</Border>

							<todo:VisualStateManager.VisualStateGroups />
						</Grid>
					</DataTemplate>
				</ItemsControl.ItemTemplate>
			</ItemsControl>
		</StackPanel>
	</ScrollViewer>
</Page>
